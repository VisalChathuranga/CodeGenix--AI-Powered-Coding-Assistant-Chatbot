
=== Page 1 ===
HIW/E9MOCT Shenzhen Hiwonder Technology Co,Ltd

Lesson 9 Human Body Key point
Detection

1. Program Logic

First, import the human body detection model.

Next, process the image by flipping it and converting the color space.
Compare the minimum confidence of the human body detection model to

determine if the body detection is successful.

Then, compare the minimum tracking confidence to define the success of
tracking the pose. If the pose does not meet the criteria, body detection will be

automatically invoked on the next input image.

After importing MediaPipe’s body detection model, obtain the real-time

camera feed by subscribing to topic messages.

Finally, detect and draw the body key points in the image.

2. Operation Steps

@ The input command should be case sensitive, and “Tab” key can be

used to complement the key words.

If you use the system image we provide, you can find the corresponding
program in the folder “3 Basic Operation Course -> 2. Introduction to

System Desktop .”




=== Page 2 ===
Hiweander Shenzhen Hiwonder Technology Co,Ltd

1) Power on Jetson Orin Nano board, and connect it to the remote

system desktop using NoMachine.

2) Connect it to the network. For specific operations, please refer to the
tutorials located in “3. Basic Operation Course -> 3. Network Configuration
(Wired and Wireless)” to access the network. Some models may need to be

re-downloaded.

3) When entering the system desktop, drag the program file “pose.py”

under the same directory to the remote desktop.

AIT > Be v &

Bi

_» Camera.py

|} face_detect.py

_» face_mesh.py

) hand.py

') mp_face_detect.py
& mp_gesture.py

_} objectron.p

 pose.py

~ self_segmentation.py

4) Then right click on the blank area of the system desktop, and select

“Open in Terminal” to open the command-line terminal:

New Folder

Show Desktop in Files

Openin Terminal

Change Background...

Display Settings

Settings




=== Page 3 ===
oy iweander Shenzhen Hiwonder Technology Co,Ltd

5) Enter the following command and press Enter to run the program.

python3 pose.py

S$ python3 pose.py

6) To close the program, please use the shortcut key “Ctrl+C” to exit the

program.

3. Program Outcom

After starting the program, if the camera detects a human pose, it will
display the human body key points and the connections between them in the

transmitted image.

4. Program Analysis
@ Build a Human Body Detection Model

Import the human body detection model from the MediaPipe toolkit.



=== Page 4 ===
Hiweamn oer Shenzhen Hiwonder Technology Co,Ltd

=~»

The first parameter, min_detection_confidence, is the minimum confidence

for body detection, with a default value of 0.5. The range is [0.0, 1.0].

The second parameter, min_tracking_confidence, is the minimum
confidence for body tracking. Setting this to a higher value can improve the

robustness of the solution, but may result in increased latency.

@ Retrieve Live Camera Feed

Invoke the VideoCapture() function from cv2 library to retrieve the

camera feed.

The parameter within the function parenthesis refers to the camera

interface. You can also use “O” to access the default camera.

If the current device has only one camera connected, either “O” or “-1” can
be used as the camera ID. If multiple cameras are connected, “O” presents the

first camera, “1” represents the second camera, and so on for additional

cameras.

Convert the color space by calling the cvtColor() function from the cv2

library.

Before performing detection on the image, you need to convert the image

to the RGB color space.

@ Detection



=== Page 5 ===
Hivwoander Shenzhen Hiwonder Technology Co,Ltd

Based on the previously built human body model, detect the human body

in the image.

@ Draw Keypoints

Use the mp_drawing.draw_landmarks() function to draw the body key

points and the connections between them in the detected body on the image.

.pose_landmarks,

@ Display the Transmitted Image

Use the imshow() function from the cv2 library to display the camera feed

in a specified window.

The first parameter inside the function’s parentheses, ""MediaPipe Pose",

is the window name, and the second parameter, image, is the image to be

displayed.


