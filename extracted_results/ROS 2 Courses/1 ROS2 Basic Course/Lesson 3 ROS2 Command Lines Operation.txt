
=== Page 1 ===
Hivweander Shenzhen Hiwonder Technology Co,Ltd

Lesson 3 ROS2 Command-Line

Operation

1. Component of ROS2 File System

The ROS2 file consists of Packages and Manifests.

Packages are the basic organizational unit in ROS2 software, consisting of
a collection of related files and directories used to organize and manage ROS2
nodes, libraries, and resources. These packages contain source code for

nodes, configuration files, message and service definition.

Manifests (package.xml) is a description file for the packages used to
define the relevant metadata and dependencies of the package. In ROS2,
packages typically contain a file named package.xml, which contains metadata
information information about the package, such as name, version, maintainer,

license agreement, and dependencies.

Manifest file (package.xml) plays a crucial role in ROS2, providing
descriptions and management for packages. This enables the ROS2 to
properly handle dependencies between packages and perform appropriate

building and performance.

2. Get to Know ROS2 Basic Terms

The following table will introduce you some basic terms in ROS2:



=== Page 2 ===
Hiweander Shenzhen Hiwonder Technology Co,Ltd

It provides high-performance, reliable, real-time
Underlying data communication and integration capabilities,
communication layer | thereby establishing fundamental support for
(DDS) messaging and service invocation between nodes

in ROS2.

Node is the smallest unit of processing running in
ROS. It is typically an executable file. Each node
Node
can use topics or services to communicate with

other nodes.

The variables of data types such as int, float and
Message
boolean.

A one-way asynchronous communication
mechanism. By publishing messages to topics or
subscribing to topics, the data transmission
Topic
between nodes can be realized. The topic type is
determined by the type of corresponding

message.

Send data with a message type corresponding to
Publishing
the topic content.

For publishing to take place,the publisher node

registers various information such as its topics on
Publishers
the master node, and transmits messages to

subscribing nodes that wish to subscribe.




=== Page 3 ===
Hivweander Shenzhen Hiwonder Technology Co,Ltd

Receive data with a message type corresponding
Subscribing
topic content.

For subscription to take place, the subscribing
node registers various information such as its
topics on the master node. Subsequently, it

Subscribers
receives all messages from publisher nodes that
have published topics of interest to this node, via

the master node.

A bidirectional synchronous communication
mechanism where the service is provided to the
Services client request corresponding to a specific task and

service servers gives the service response.

Anode taking requests as input, and providing
Service Servers
responses as output.

Anode taking responding as input, and providing
Service Clients
requests as output.

3. Get to Know ROS2 Commonly File

The following table will provide explanations for the commonly used files in

ROS:



=== Page 4 ===
Hiweander Shenzhen Hiwonder Technology Co,Ltd

A model file describing robot's entire elements, including

link, joint, kinematics parameters, dynamics parameters,

Urdt file visual models and collision detection models.
It is stored in the srv folder used to define ROS service
messages, consisting of two parts: request and respond.
Srv file
The request and respond are separated by the “---”
symbol.
It is stored in the msg folder used to define ROS topic
Msg file

messages.

Description of the package attributes, including the
package.xml | package name, version number, authorship and other

information.

CmakeLists.txt | Compile the configuration file using Cmake.

Launch files contain system-wide instructions for
launch launching nodes and services required for the robot to

operate.




=== Page 5 ===
Hiweander Shenzhen Hiwonder Technology Co,Ltd

4. Get to Know Commonly Used Command

4.1Package Management Tool

The ros2 pkg has a total of five commands: create, executables, list, prefix,

xml.

ros2 pkg create

Create packages, specify package name,

build type, dependencies, node names, etc.

ros2 pkg list

View the list of packages in the system.

ros2 pkg executables

View a list of executable files within packages

in ROS2.

ros2 pkg prefix

View the the installation path prefix of a

specific package in ROS2.

ros2 pkg xml

View the contents of the .xml file for the

specific package.

4.2 Node Running Tool

The function of ros2 run is allow you to run nodes within ROS2 package. The

basic syntax is “ros2 run <package_name> <node_name>” as pictured.



=== Page 6 ===
HIVVE9MCOCT Shenzhen Hiwonder Technology Co,Ltd

ubuntu@rasy{ :~$S} ros2 run turtles turtlesim node

pstandar j " IR no defaulting to '/tmp/runtime-ubuntu'
[INFO] [1 9344 . turtles : Starting turtle
urtlesim

im with node name /t

[INFO] [170 9223 .04420 9] [turtlesim]: Spawning turtle [turtle1] at x
4445], \ 0

libGL error: glx: failed to create dri3 screen
libGL error: failed to load driver: vc

4.3 Command-line Tool

The ro2 node command is used to view node messages.

View the list of active nodes within the current

ros2 node list domain ( nodes grouped by the same

ROS_DOMAIN_ID )

View the detailed information about a specific

node in ROS2, including its subscriptions,
ros2 node info

publications, publishing, services and actions,

etc.

4.4 Topic Operation Tool

The ros2 topic command in ROS2 is used to perform operations related to

topics.

ros2 topic list List all active topics within the domain.

Provide information about a specific topic,
ros2 topic info

including its type, and publishers/subscribers.




=== Page 7 ===
Hiweander Shenzhen Hiwonder Technology Co,Ltd

ros2 topic type View the type of topic messages.

Find the topics related to a specific message

type in ROS2.

ros2 topic find

Display the average publishing frequency of a

topic in ROS2.

ros2 topic hz

Calculate the bandwidth usage of a specific
ros2 topic bw
topic.

Calculate the message delay using the
ros2 topic delay
timestamp in the message header in ROS2.

ros2 topic echo Display the topic message in console.

Publish a message to a specific topic through
ros2 topic pub
command-line.

4.5 Interface Operation Tool

The ros2 interface command is used to perform operations related to the

interfaces in ROS2.

List all available interfaces in the system,
ros2 interface list
including Messages, Services, and Actions.

List the child interfaces within the specific
ros2 interface package
package.




=== Page 8 ===
Hivweander Shenzhen Hiwonder Technology Co,Ltd

ros2 interface packages | List packages containing interfaces.

Display the detailed contents of the specified
ros2 interface show
interface.

ros2 interface proto Display message module.



