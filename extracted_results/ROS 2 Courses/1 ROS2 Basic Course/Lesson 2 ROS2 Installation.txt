
=== Page 1 ===
Hiweonder Shenzhen Hiwonder Technology Co,Ltd

Lesson 2 ROS2 Installation

Note: The provided Raspberry Pi system image has already set up

ROS2 environment. This lesson is offered for your reference only.

This lesson takes the example of humble (requires Internet

connection)

1) Press “Ctrl+Alt+T” to open a command line terminal and enter the
command “docker pull ros:humble” to download ROS2 image. The

download needs to take a while. Please wait patiently.

docker pull ros:humble

2) After the image is downloaded, enter the command “docker run -it
--network=host -d -v=/dev:/dev -v /tmp/.X11-unix:/tmp/.X11-unix --name
humble -e DISPLAY=${DISPLAY} --restart=always ros:humble /bin/bash”

in the terminal to run the container and specify the name as “humble”.

docker run -it --network=host -d -v=/dev:/dev -v /tmp/.X11-unix:/tmp/.X11-unix --name melodic -e DISPLAY=S{
start=always ros:melodic /bin/bash

'75b6634e622762255058569dd769ed3925f 77b9976539e85d1d70cd029929f9d

3) Enter “xhost +” to start the access control for X Sever.

Ji@raspberrypi:~ S xhost +
access control disabled, clients can connect from any host

4) Enter “docker ps” to view the ID of the newly created container.

pi@raspberr docker ps
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
S5ce8db5f027 ros:humble '/ros_entrypoint.sh .." 2 days ago Up 21 hours humble

13sisca2bfbds ros:melodic "/ros_entrypoint.sh ..." 2 days ago Up 21 hours me Lodic

5) Enter the command “docker exec -it 55ce /bin/bash” to enter the

container (the container’s ID can be abbreviated as long as it uniquely



=== Page 2 ===
Hiweander Shenzhen Hiwonder Technology Co,Ltd

identifies the container).

docker exec -it 55ce /bin/bashfj

6) Enter the command “useradd -m -s /bin/bash ubuntu’ to create a

new user.

root@raspberrypi:/# useradd -m -s /bin/bash ubuntu

7) Inthe terminal, enter “passwd ubuntu” to set the password for
“ubuntu”. Here, “ubuntu” is set as the password, you will prompted to re-enter

the password.

root@50e095a38fff:/# passwd ubuntu
Enter new UNIX password:

Retype new UNIX password:

passwd: password updated successfully

8) Enter “usermod -aG sudo ubuntu” to add the new user “ubuntu” to

the sudo group, granting it the superuser permission.

root@raspberrypi:/# usermod -aG sudo ubuntu

9) Enter “sudo apt-get update -y && sudo apt-get upgrade -y” to
update the list of available software packages and upgrade the installed

software packages on the system.

root@raspberrypi:/# sudo apt-get update -y && sudo apt-get upgrade -y
:1 http://snapshots.ros.org/melodic/final/ubuntu bionic InRelease [13.8 kB]
http://ports.ubuntu.com/ubuntu-ports bionic InRelease [242 kB]
http://snapshots.ros.org/melodic/final/ubuntu bionic/main arm64 Packages [1017 kB]
//ports.ubuntu.com/ubuntu-ports bionic-updates InRelease [88.7 kB]

rts.ubuntu.com/ubuntu-ports bionic-security InRelease [88.7 kB]
.ubuntu.com/ubuntu-ports bionic/universe arm64 Packages [11.0 MB]
.ubuntu.com/ubuntu-ports bionic/main arm64 Packages [1285 kB]

rts.ubuntu.com/ubuntu-ports S

2

3

4

5 ://ports.ubuntu.com/ubuntu-ports bionic-backports InRelease [83.3 kB]
6 .

7

8

9

10)Enter “sudo apt-get install vim -y” to install Vim text editor.



=== Page 3 ===
Hiweonder Shenzhen Hiwonder Technology Co,Ltd

root@raspberrypi:/# sudo apt-get install vim -y
Reading package lists... Done

Building dependency tree

Reading state information... Done

The following additional packages will be installed:

Libgpm2 vim-common vim-runtime xxd
Suggested packages:

gpm ctags vim-doc vim-scripts
The following NEW packages will be installed:

11) Enter “sudo apt-get install ros-humble-desktop-full -y” to install
the complete desktop environment of ROS Humble version.

root@raspberrypi:/# sudo apt-get install ros-melodic-desktop-full -y
Reading package lists... Done
Building dependency tree

Reading state information... Done

The following additional packages will be installed:
autoconf automake autopoint autotools-dev avahi-daemon bind9-host blt bsdmainutils curl cython dbus q
dh-autoreconf dh-strip-nondeterminism dmsetup file fltk1.3-doc fluid fonts-lato fonts-liberation fonj

2. Test ROS2 Environment

1) Enter “docker exec -it -u ubuntu -w /home/ubuntu 55ce /bin/bash”
to enter the container. (Note: 55ce is the container ID with the ROS2

environment installed.)

Pao ryp1: docker exec -it -u ubuntu -w /home/ubuntu 55ce /bin/bash
ubuntu@raspberrypi:~$ i

2) Enter “source /opt/ros/humble/setup.bash” to manually set up

ROS2 environment.

pi@ra rryp: docker exec -it -u ubuntu -w /home/ubuntu 55ce /bin/bash
ubuntu@raspberrypi:~$ |source /opt/ros/humb le/setup. bash]




=== Page 4 ===
Hiweander Shenzhen Hiwonder Technology Co,Ltd

3) The step 2 needs to be executed every time to load the workspace
when you open the terminal, you can enter “echo “source
lopt/ros/humble/setup.bash” >> ~/.bashrc’” to write this command into

the .bashrc file.

ubuntu@raspberrypi:~$ echo "source /opt/ros/humble/setup.bash" >> - /.bashrclf

4) Enter “source ~/.bashrc’” to make the .bashrc file take effect. In this

way, there is no need to load the workspace environment for each operation.

ubuntu@raspberrypi:~$ source ~/.bashrc

ubuntu@raspberrypi:~$ i

5) Enter “ros2 run turtlesim turtlesim_node’ to start the TurtleSim GUI

interface. If it launches successfully, it indicates that ROS2 has been installed

successfully.

ubuntu@raspberrypi:~$ ros2 run turtlesim turtlesim_node

TurtleSim



