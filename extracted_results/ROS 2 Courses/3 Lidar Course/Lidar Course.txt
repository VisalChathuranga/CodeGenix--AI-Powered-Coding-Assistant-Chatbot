
=== Page 1 ===
a IWE) M Oo = t Shenzhen Hiwonder Technology Co,Ltd

Lidar Course




=== Page 2 ===
Hiwoander Shenzhen Hiwonder Technology Co,Ltd
Catalog

1. Lidar Introduction 20... . cc cc ec ccc eee eee reece eee eee teenies 3
1.1 Preface 2... ccc ccc ccc ce cc ee cee eee eee eee eee ee eee eee 3
1.2 Lidar Composition and Classification ....... 0.0... cee ee eee eee eee 3
1.3 Switch Lidar Version .. 0... .. ccc cc eee eee cee eee tenet eee eens 5
2. Lidar Working and Ranging Principle .......... ccc eee eee ecw eee eee ewes 8
2.1 Lidar Ranging ....... cc ccc cee ccc eee ce eee eee ee ee eee eter eens 8
2.2 Lidar Working Result ....... eee ccc cee ccc eee eee ee eee ee eees 9
3. Lidar Obstacle Avoidance ......... cece ccc eee eee eee eee eee eens 10
4. Lidar Following ....... cece cc ccc ec eee ce eee eect eee ee eee ee eees 11
5. Lidar Guarding 0... . ccc ccc ccc ec eee eee eee eee cence ee eee 13



=== Page 3 ===
| IW) | Oo =) t Shenzhen Hiwonder Technology Co,Ltd

1. Lidar Introduction

1.1 Preface

Lidar, a high-precision and high-speed remote sensing technology, is pivotal in
numerous domains, including map creation, autonomous driving,
environmental perception, and robot navigation. This document provides an
overview of Lidar's principles, components, working mechanisms, application

areas, advantages, and development trends.

In autonomous driving and intelligent transportation, Lidar assumes a critical
role by offering real-time perception of obstacles, pedestrians, and vehicles on
the road, providing precise distance and location information. In robot
navigation and environmental perception, Lidar contributes by furnishing
accurate maps and information about the surrounding environment.

Furthermore, Lidar finds extensive applications in areas such as 3D modeling,

map creation, safety monitoring, and remote sensing mapping.

1.2 Lidar Composition and Classification

Lidar is composed of essential components such as a laser emitter, receiver,

photodetector, scanning mechanism, and angle resolver. The laser emitter



=== Page 4 ===
Hiwoander Shenzhen Hiwonder Technology Co,Ltd

produces laser beams, while the receiver and photodetector capture reflected
light signals. The scanning mechanism is responsible for surveying the
surrounding environment, and the angle resolver assists in determining the

position of target objects.
Lidar can be categorized into various types based on the scanning method:

Rotating Lidar: Achieves omnidirectional scanning horizontally by rotating the
emitter or scanning mechanism. Known for high scanning speed and
measurement accuracy, it is widely applied in areas such as autonomous

driving, 3D environmental modeling, and map creation.

Solid-State Lidar: Utilizes solid-state laser emitters, eliminating the need for
rotating components. Compact, lightweight, and energy-efficient, solid-state

lidar is suitable for applications like mobile devices, drones, and robots.

Mechanical Lidar: Employs mechanical components like rotating mirrors or
prisms for laser beam scanning. Although offering longer measurement
distances and higher accuracy, mechanical lidar tends to have slower
scanning speeds. It is commonly used in terrain measurement, building

scanning, and navigation.

Phase-Modulated Lidar: Measures the distance between target objects and
the lidar by altering the phase of the laser beam. Known for high measurement
accuracy and a large measurement range, phase-modulated lidar is

extensively used in map creation, surveying, and industrial applications.

Flash Lidar: Utilizes brief, high-power laser pulses to illuminate the entire
scene simultaneously. It captures reflected light signals through an array of
receivers, making it suitable for high-speed and high-resolution applications,

including rapid scene capture and motion tracking.



=== Page 5 ===
Hiwoander Shenzhen Hiwonder Technology Co,Ltd
1.3 Switch Lidar Version

The robot provides two Lidar options, and the default Lidar version in the
system image is A1 Lidar. Therefore, please confirm the Lidar version upon

you receiving the robot kit.

This section uses switching to the G4 LIDAR as an example; the steps for

other types of LIDAR are similar.

1) Confirm the robot's Lidar version. As shown below, the left image is the A1

Lidar, and the right image is the G4 Lidar.

A1

2) Start the robot, and connect it to NoMachine according to the instructions
provided in ‘1. Tutorials/ 1 Quick Start Guide/ JetAuto User Manual/ 4.

Establish Development Environment’.




=== Page 6 ===
| IVW/E) im Oo = t Shenzhen Hiwonder Technology Co,Ltd

3) After successful connection, double-click ig

setup tool 1.0 - *

() py ‘@) English

Depth Camera AP Name Hw-2424221 4 |
Lidar -

Version v1 .0.0 2024-07-03 |
Machine
Ase ‘chinese

Operating System Ubuntu 22.04.4 LTS Jammy Jellyfish + ROS2 Humble

Kernel Version Linux_5.15.136-tegra_aarch64
Disk Capacity Total:76.43G Free:1.1G
Memory Total:7.44G Free:0.64G
Ethemet Wired network not connected
WLAN 192.168.149.1

4) Click-on Lidar TAB, and select “G4”, then click-on “Save” and “Apply” in

sequence.

setup tool 1.0 - *

) Ay ‘® English

Depth Camera AP Name Hw-24242214 |
Lidar

Version wi 0.0 2024-07-03 |
Machine
ASR

Operating System Ubuntu 22.04.4 LTS Jammy Jellyfish + ROS2 Humble
Kernel Version Linux_5.15.136-tegra_aarch64

Disk Capacity Total:76.43G Free:1.1G @ @ ®
Memory Total:7.44G Free:0.64G

Ethemet Wired network not connected

WLAN 192.168.149.1

5) After you reselect the Lidar version, the below prompt will appear.



=== Page 7 ===
Hiwoander Shenzhen Hiwonder Technology Co,Ltd

= = Ba ® English

Depth Camera Macter Name lietauta 1 [1p localhost

Lidar
Machine Restart Service...
ASR Prsion 2.0.0 2024-06-17

localhost

Operating System Ubuntu 18.04 bionic + ROS Melodic
Kernel Version Linux_4.9.337-tegra_aarch64

Disk Capacity Total:58.37G Free:7.75G

Memory Total:3.87G Free:1.43G
Ethemet Wired network not connected Quit
WLAN 192.168.149.1

6) After the system completes a restart, click-on “Quit” icon.

setup tool 1.0

ray ® English
Depth Camera Master Name jetauto_1 | IP localhost

Lidar
; Host Name jetauto_1 IP localhost
Machine

ASR AP Name Hw-2DFsciFc =| Version 2.0.0 2024-06-17

Operating System Ubuntu 18.04 bionic + ROS Melodic
Kernel Version Linux_4.9.337-tegra_aarch64

Disk Capacity Total:58.37G Free:7.75G

Memory Total:3.87G Free:1.43G

Ethemet Wired network not connected

WLAN 192.168.149.1

7) Finally, click-on to confirm the Lidar version.

/bin/zsh
/bin/zsh 80x24

LIDAR:
CAMERA:

MACHINE:

HOST:

MASTER:
ROS_DOMAIN_ID:
VERSION:




=== Page 8 ===
| IWE) M Oo = t Shenzhen Hiwonder Technology Co,Ltd

2. Lidar Working and Ranging Principle

2.1 Lidar Ranging

Two common methods are employed by Lidar to determine the distance to a

target: triangulation and Time of Flight (TOF).

In the case of TOF, as depicted in the diagram, the Lidar initially projects light
onto the object. The object reflects the light directly back to the Lidar, which
calculates the time it takes for the light to return. The distance between the
object and the Lidar is then obtained by multiplying this time by the speed of
light.

In triangulation, as illustrated in the diagram, the Lidar undergoes adjustments
during manufacturing to ensure that the light does not directly strike the object.
Instead, it is projected at a specific angle, a pre-set value that remains
constant during operation. The distance from the object to the Lidar can be

calculated by incorporating this angle into trigonometric functions.



=== Page 9 ===
| IWE) | Oo = t Shenzhen Hiwonder Technology Co,Ltd

transmitted light

2.2 Lidar Working Result

Its working result is as follows. Lidar will emit light and shine it on the object
surface. When receiving the light reflected by the object, Lidar will mark the

contour of the object at the position where the light is reflected.




=== Page 10 ===
HIVW/E9MCOECT Shenzhen Hiwonder Technology Co,Ltd
3. Lidar Obstacle Avoidance

The robot senses the distance between itself and an object directly in front of it.
Depending on the configured distance, the robot will either turn left or right to

avoid obstacles. If no obstacles are detected, it will proceed to move forward.

This game can be activated in two ways: either through a mobile app or by

issuing commands after establishing a remote connection to the system.

For instructions on app connection, please consult the tutorial located in '1

Quick Start Guide/JetAuto User Manual/ 3.5 APP Control’

1) Start the robot, and access the robot system desktop using NoMachine.

2) Click-on | to start the command line terminal.

3) Execute the command and press Enter to deactivate the automatic start

service for the app.

sudo systemctl stop start_app_node.service

stop start_app_node.service

4) Run the command to enable the local services for app auto-start services.

ros2 launch app lidar_node.launch.py debug:=true

Launch app Lidar_node.launch.py debug:=true

5) Open a new terminal, and execute the command, then press Enter to start

the Lidar game.

ros2 service call /lidar_app/enter std_srvs/srv/Trigger

{}

service call /lidar_app/enter std_srvs/srv/Trigger {}
requester: making request: std_srvs.srv.Trigger_Request()

response:
std_srvs.srv.Trigger_Response(success=True, message='enter' )

10



=== Page 11 ===
HIVW/E9MCOECT Shenzhen Hiwonder Technology Co,Ltd

6) Enter the command and hit Enter to launch Lidar obstacle avoidance

game.

ros2 service call /lidar_app/set_running interfaces/srv/Setint64 "{data:

1}"

service call /lidar_controller/set_running interfaces/srv/SetInt64

7) To stop the current function, enter the command in the current terminal and

press the Enter key to execute.

ros2 service call /lidar_controller/set_running interfaces/srv/SetInt64 "{data: @}"

service call /lidar_controller/set_running interfaces/srv/SetInt64

8) To exit the game, simply press 'Ctrl+C’ in the terminal interface from step 4)

or 5).

4. Lidar Following

The robot will detect the distance between itself and objects directly in front of
it. If the distance is too close to an obstacle, it will perform a turning maneuver

to avoid it.

This game can be activated in two ways: either through a mobile app or by

issuing commands after establishing a remote connection to the system.

For instructions on app connection, please consult the tutorial located in '1

Tutorials/ 1 Quick Start Guide/ JetAuto User Manual/ 3.5 App Control’.

1) Start the robot, and access the robot system desktop using NoMachine.

2) Click-on | to start the command line terminal.

3) Execute the command and press Enter to deactivate the automatic start

service for the app.

sudo systemctl stop start_app_node.service

11



=== Page 12 ===
LJ
HIVW/E9MCOECT Shenzhen Hiwonder Technology Co,Ltd
Cus stop start_app_node.service

4) Run the command to enable the local services for app-related game and

chassis control services.

ros2 launch app lidar_node.launch.py debug:=true

Launch app Lidar_node.launch.py debug:=true

5) Open a new terminal, and execute the command, then press Enter to start

the Lidar game.

ros2 service call /lidar_app/enter std_srvs/srv/Trigger {}

service call /lidar_app/enter std_srvs/srv/Trigger {}
requester: making request: std_srvs.srv.Trigger_Request()

response:
std_srvs.srv.Trigger_Response(success=True, message='enter' )

6) Enter the command and hit Enter to launch Lidar obstacle avoidance

game.

ros2 service call /lidar_app/set_running interfaces/srv/Setint64 "{data:

2}"

service call /lidar_app/set_running interfaces/srv/SetInt64

7) If you need to stop the current function, simply enter the command in the

terminal and press the Enter key to execute it.

ros2 service call /lidar_app/set_running interfaces/srv/Setint64 "{data:

0}"

service call /lidar_app/set_running interfaces/srv/SetInt64

8) To exit the game mode, simply press "Ctrl+C" in the terminal interface.

12



=== Page 13 ===
HIVW/E9MCOECT Shenzhen Hiwonder Technology Co,Ltd
5. Lidar Guarding

The robot assesses the distance between itself and an object directly in front. If
an object is detected within the configured distance, it will initiate a turn to

ensure that the vehicle consistently faces the object.

This game can be activated through two methods: either via a mobile app or by

issuing commands after establishing a remote connection to the system.

For instructions on app connection, please consult the tutorial located in '1

Tutorials/ 1 Quick Start Guide/ JetAuto User Manual/ 3.5 App Control’.

1) Start the robot, and access the robot system desktop using NoMachine.

2) Click-on | to start the command line terminal.

3) Execute the command and press Enter to deactivate the automatic start

service for the app.
sudo systemctl stop start_app_node.service

sudo stop start_app_node.service

4) Run the command to enable the local services for app-related game and

chassis control services.

ros2 launch app lidar_node.launch.py debug:=true

Launch app Lidar_node.launch.py debug:=true

5) Open anew ROS2 terminal, and execute the command, then press Enter
to start the Lidar game.
ros2 service call /lidar_app/enter std_srvs/srv/Trigger {}

service call /lidar_app/enter std_srvs/srv/Trigger {}
requester: making request: std_srvs.srv.Trigger_Request()

response:
std_srvs.srv.Trigger_Response(success=True, message='enter' )

6) Enter the command and hit Enter to launch Lidar guarding game.

13



=== Page 14 ===
Hiwoander Shenzhen Hiwonder Technology Co,Ltd

ros2 service call /lidar_app/set_running interfaces/srv/Setint64 "{data:

3}"

service call /lidar_controller/set_running interfaces/srv/SetInt64

7) If you need to stop the current function, simply enter the command in the

terminal and press the Enter key to execute it.

ros2 service call /lidar_controller/set_running interfaces/srv/Setint64

"{data: 0}"

service call /lidar_app/set_running interfaces/srv/SetInt64

8) To exit the game mode, simply press "Ctrl+C" in the terminal interface at

step 4) or 5).

14


